steps:
  # The linter and all tests run inside this container.
  - script: |
      docker run \
        --tty \
        --detach \
        --name snekbox_test \
        --privileged \
        --network host \
        --hostname pdsnk-dev \
        -e PYTHONDONTWRITEBYTECODE=1 \
        -e PIPENV_PIPFILE="/snekbox/Pipfile" \
        -e ENV="${PWD}/scripts/.profile" \
        --volume "${PWD}":"${PWD}" \
        --workdir "${PWD}"\
        --entrypoint /bin/bash \
        pythondiscord/snekbox-venv:dev
    displayName: 'Start Container'
